<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Test WebSocket Station</title>
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
</head>

<body>
<h1>WebSocket Test Station</h1>

<script>
const socket = new SockJS("http://localhost:8005/ws");
const stompClient = Stomp.over(socket);

stompClient.connect({}, () => {
    console.log("Conectado al WebSocket!");

    // Suscripción global
    stompClient.subscribe("/topic/station.update", (msg) => {
        console.log("Nueva ubicación:", JSON.parse(msg.body));
    });

    // Ejemplo si quieres suscribirte a una bici específica:
    // stompClient.subscribe("/topic/bicycle.location.5", (msg) => {
    //     console.log("Bici 5:", JSON.parse(msg.body));
    // });
});
</script>

</body>
</html>
