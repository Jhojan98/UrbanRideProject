/* Color Palette - Light Mode */
:root {
  /* Light Mode Palette */
  --color-primary-light: #2E7D32;
  --color-accent-light: #FBC02D;
  --color-background-light: #FFFFFF;
  --color-surface-light: #004e61;
  --color-text-primary-light: #000000;
  --color-text-secondary-light: #4A4A4A;
  --color-border-light: #E0E0E0;
  --color-button-text-light: #FFFFFF;

  /* Base tokens */
  --font-family-base: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  --border-radius: 8px;
  --base-spacing: 16px;

  /* Neutral/brand tokens for both themes */
  --color-green-main: #2E7D32;
  --color-green-light: #66BB6A;
  --color-blue-main: #3366CC;
  --color-blue-light: #5C7AEA;
  --color-gray-very-light: #F5F7FA;
  --color-gray-light: #E5E7EB;
  --color-gray-medium: #8B97A8;
  --color-gray-dark: #374151;
  --color-white: #FFFFFF;
  --color-black: #000000;
  --color-red-alert: #D9534F;

  /* Form control defaults (light) */
  --select-bg: #ffffff;
  --select-text: #000000;
  --select-border: #cccccc;

  /* Status tokens used by components */
  --color-battery-high: #22c55e;
  --color-battery-medium: #f59e0b;
  --color-battery-low: #ef4444;
  --color-lock-secure: #22c55e;
  --color-lock-alert: #ef4444;
  --color-iot-good: #0ea5e9;
  --color-iot-loss: #64748b;
}


[data-theme="dark"] {
  /* Dark Mode Palette */
  --color-primary-dark: #266629;
  --color-accent-dark: #F1C84B;
  --color-background-dark: #000000;
  --color-surface-dark: #1E2128;
  --color-text-primary-dark: #FFFFFF;
  --color-text-secondary-dark: #B0B0B0;
  --color-border-dark: #333333;
  --color-button-text-dark: #000000;
}

/* Color Palette - Dark Mode */
[data-theme="dark"] {
  --color-green-main: #4CAF50;
  --color-green-light: #66BB6A;
  --color-blue-main: #3366CC;
  --color-blue-light: #5C7AEA;
  --color-gray-very-light: #181F2A;
  --color-gray-light: #2A3449;
  --color-gray-medium: #8B97A8;
  --color-gray-dark: #F5F7FA;
  --color-white: #F5F7FA;
  --color-black: #000000;
  --color-red-alert: #D9534F;
  /* Keep select colors consistent in dark mode too */
  --select-bg: #ffffff;
  --select-text: #000000;
  --select-border: #cccccc;
}

/* Reset and base */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-family-base);
  background-color: var(--color-background-light);
  color: var(--color-text-primary-light);
  line-height: 1.5;
}

/* Containers */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--base-spacing);
}

/* Buttons */
button {
  cursor: pointer;
  border-radius: var(--border-radius);
  border: none;
  padding: 12px 24px;
  font-weight: 600;
  font-size: 16px;
  transition: background-color 0.3s ease;
}

button.primary {
  background-color: var(--color-green-main);
  color: var(--color-white);
}

button.primary:hover {
  background-color: var(--color-green-light);
}

button.secondary {
  background-color: var(--color-blue-main);
  color: var(--color-white);
}

button.secondary:hover {
  background-color: var(--color-blue-light);
}

button.disabled,
button:disabled {
  background-color: var(--color-gray-light);
  color: var(--color-gray-medium);
  cursor: not-allowed;
}

/* Links */
a {
  color: var(--color-blue-main);
  text-decoration: none;
}

a:hover {
  color: var(--color-blue-light);
}

/* Forms */
input,
select,
textarea {
  width: 100%;
  padding: 10px;
  border: 1px solid var(--select-border);
  border-radius: var(--border-radius);
  font-size: 16px;
  color: var(--select-text);
  background-color: var(--select-bg);
  transition: border-color 0.3s ease;
}

.link-inline {
  color: var(--color-primary-light);
  font-weight: 600;
  margin-left: 6px;
  text-decoration: none;
  transition: color .25s ease;
}

.link-inline:hover {
  color: var(--color-green-light);
  text-decoration: underline;
}

/* Material Symbols Icons */
.material-symbols-outlined {
  font-family: 'Material Symbols Outlined', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-weight: normal;
  font-style: normal;
  font-size: 1.5rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  text-transform: none;
  letter-spacing: normal;
  word-wrap: normal;
  white-space: nowrap;
  direction: ltr;
  /* Support for all font variations */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

input:focus,
select:focus,
textarea:focus {
  border-color: var(--color-green-main);
  outline: none;
  box-shadow: 0 0 0 3px var(--color-green-light);
}

/* Texts */
h1, h2, h3, h4, h5, h6 {
  color: var(--color-text-primary-light);
  margin: 0 0 12px 0;
}

p {
  color: var(--color-text-secondary-light);
  margin: 0 0 16px 0;
}

/* Map and main panel (basic example) */
.map-container {
  width: 100%;
  height: 400px;
  border-radius: var(--border-radius);
  overflow: hidden;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
  margin-bottom: var(--base-spacing);
}

/* Status indicators */
.status-indicator {
  display: inline-flex;
  align-items: center;
  padding: 6px 12px;
  border-radius: var(--border-radius);
  font-weight: 600;
  font-size: 14px;
  color: var(--color-white);
}

.status-battery-high { background-color: var(--color-battery-high); }
.status-battery-medium { background-color: var(--color-battery-medium); }
.status-battery-low { background-color: var(--color-battery-low); }
.status-lock-secure { background-color: var(--color-lock-secure); }
.status-lock-alert { background-color: var(--color-lock-alert); }
.status-iot-good { background-color: var(--color-iot-good); }
.status-iot-loss { background-color: var(--color-iot-loss); }

.status-battery-high { background-color: var(--color-battery-high); }
.status-battery-medium { background-color: var(--color-battery-medium); }
.status-battery-low { background-color: var(--color-battery-low); }

/* Progress bar */
.progress-bar {
  width: 100%;
  height: 16px;
  background-color: var(--color-gray-light);
  border-radius: var(--border-radius);
  overflow: hidden;
  margin: 8px 0;
}

.progress-bar-fill {
  height: 100%;
  background-color: var(--color-green-main);
  width: 50%;
  transition: width 0.4s ease;
}

/* Light/Dark modes: example for body */
html[data-theme="dark"] {
  background-color: var(--color-background-dark);
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] body {
  background-color: var(--color-background-dark);
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] h1,
html[data-theme="dark"] h2,
html[data-theme="dark"] h3,
html[data-theme="dark"] h4,
html[data-theme="dark"] h5,
html[data-theme="dark"] h6 {
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] p {
  color: var(--color-text-secondary-dark);
}

html[data-theme="dark"] button.reservation-card {
  background-color: var(--color-surface-dark);
}

html[data-theme="dark"] button.primary {
  background-color: var(--color-green-main);
}

html[data-theme="dark"] button.primary:hover {
  background-color: var(--color-green-light);
}

html[data-theme="dark"] input,
html[data-theme="dark"] select,
html[data-theme="dark"] textarea {
  background-color: var(--color-surface-dark);
  color: var(--color-text-primary-dark);
  border-color: var(--color-border-dark);
}

/* Dashboard tables dark mode */
html[data-theme="dark"] .table-dashboard,
html[data-theme="dark"] .dashboard-table {
  background: var(--color-surface-dark);
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] .table-dashboard tbody td,
html[data-theme="dark"] .dashboard-table tbody td {
  border-top-color: var(--color-border-dark);
  color: var(--color-text-primary-dark);
}

/* Tooltip dark mode */
html[data-theme="dark"] .slots-tooltip {
  background: var(--color-surface-dark);
  border-color: var(--color-border-dark);
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] .slots-tooltip p {
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] .slot-box {
  background: var(--color-gray-light);
  color: var(--color-text-primary-dark);
}

/* Battery dark mode */
html[data-theme="dark"] .battery-text {
  color: var(--color-text-primary-dark);
}

html[data-theme="dark"] .no-battery {
  color: var(--color-text-secondary-dark);
}

html[data-theme="dark"] .empty-message {
  color: var(--color-text-secondary-dark);
}

html[data-theme="dark"] .battery-bar {
  background: var(--color-gray-light);
}

/* Utilities */
.text-center { text-align: center; }
.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }

/* Basic responsive */
@media (max-width: 768px) {
  .container { padding: 12px; }
  button { font-size: 14px; padding: 10px 20px; }
  .map-container { height: 300px; }
}

.main-header {
  width: 100%;
  padding: 0rem 2rem;
  background: var(--color-primary-light);
  border-bottom: 1px solid var(--color-border-light);
  display: flex;
  justify-content: center;
  align-items: center;
  color: #FFFFFF;
}

.header-menu {
  display: flex;
  align-items: center;
  gap: 1.4rem;
  font-weight: 500;
}

/* router-link con estilo */
.header-menu a {
  text-decoration: none;
  color: var(--color-text-primary-light);
  transition: color .25s;
}

.header-menu a:hover {
  color: var(--color-primary-light);
}

/* contenido de la página debajo del header */
.page-content {
  padding: 2rem;
}
i {
  position: static !important;
  font-size: inherit !important;
  z-index: auto !important;
}

/* ==== Dashboard (Estaciones & Bicicletas) ==== */
.table-dashboard, .dashboard-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--color-background-light);
  box-shadow: 0 2px 6px rgba(0,0,0,.06);
  font-size: .9rem;
}
.table-dashboard thead th, .dashboard-table thead th {
  background: var(--color-primary-light);
  color: #fff;
  padding: .6rem .5rem;
  text-align: left;
  font-weight: 500;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.table-dashboard tbody td, .dashboard-table tbody td {
  padding: .55rem .5rem;
  border-top: 1px solid var(--color-border-light);
  position: relative;
  white-space: nowrap;
}

/* Anchos fijos para columnas de tabla de estaciones */
.dashboard-table th:nth-child(1),
.dashboard-table td:nth-child(1) { width: 15%; min-width: 120px; }
.dashboard-table th:nth-child(2),
.dashboard-table td:nth-child(2) { width: 20%; min-width: 150px; }
.dashboard-table th:nth-child(3),
.dashboard-table td:nth-child(3) { width: 12%; min-width: 110px; text-align: center; }
.dashboard-table th:nth-child(4),
.dashboard-table td:nth-child(4) { width: 12%; min-width: 110px; text-align: center; }
.dashboard-table th:nth-child(5),
.dashboard-table td:nth-child(5) { width: 15%; min-width: 120px; text-align: center; }
.dashboard-table th:nth-child(6),
.dashboard-table td:nth-child(6) { width: 13%; min-width: 130px; text-align: center; }

/* Pastillas de estado reutilizando status-indicator base */
.status-pill, .type-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .25rem .55rem;
  border-radius: 12px;
  font-size: .65rem;
  font-weight: 600;
  letter-spacing: .5px;
  background: #e2e8f0;
  color: #374151;
  min-width: 85px;
  text-align: center;
}
.status-pill.on { background: var(--color-green-main); color: #fff; }
.status-pill.off { background: var(--color-red-alert); color: #fff; }
.status-pill.alert { background: var(--color-red-alert); color:#fff; }
.type-pill { min-width: 110px; }
.type-pill.electric { background: #6366f1; color: #fff; }
.type-pill.mechanical { background: #0ea5e9; color: #fff; }

/* Responsividad para tablas */
@media (max-width: 1200px) {
  .dashboard-table {
    font-size: 0.85rem;
  }
  .dashboard-table th,
  .dashboard-table td {
    padding: 0.45rem 0.4rem;
  }
  .status-pill, .type-pill {
    font-size: 0.6rem;
    padding: 0.2rem 0.45rem;
    min-width: 75px;
  }
  .type-pill {
    min-width: 95px;
  }
}

@media (max-width: 768px) {
  .dashboard-table {
    font-size: 0.8rem;
  }
  .dashboard-table th:nth-child(1),
  .dashboard-table td:nth-child(1) { min-width: 100px; }
  .dashboard-table th:nth-child(2),
  .dashboard-table td:nth-child(2) { min-width: 120px; }
  .dashboard-table th:nth-child(3),
  .dashboard-table td:nth-child(3),
  .dashboard-table th:nth-child(4),
  .dashboard-table td:nth-child(4),
  .dashboard-table th:nth-child(5),
  .dashboard-table td:nth-child(5),
  .dashboard-table th:nth-child(6),
  .dashboard-table td:nth-child(6) { min-width: 90px; }
}

/* Tooltip de slots */
.slots-tooltip {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 20;
  background: #ffffff;
  border: 1px solid var(--color-border-light);
  padding: .5rem .6rem .7rem;
  width: 230px;
  box-shadow: 0 4px 12px rgba(0,0,0,.12);
  border-radius: 6px;
  animation: fadeIn .15s ease-in;
}
.slots-tooltip p { margin: 0 0 .4rem; font-size: .7rem; font-weight: 600; text-transform: uppercase; letter-spacing: .5px; color: #374151; }
.slots-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: .35rem; }
.slot-box { font-size: .65rem; text-align: center; padding: .4rem 0; border-radius: 4px; font-weight: 600; background: #f1f5f9; color: #64748b; }
.slot-box.occupied { background: #1d4ed8; color: #fff; }
.slot-box.empty { background: #e2e8f0; }
@keyframes fadeIn { from { opacity:0; transform:translateY(-4px);} to { opacity:1; transform:translateY(0);} }

/* Barra de batería */
.battery-wrapper { display: flex; align-items: center; gap: .4rem; }
.battery-bar { width: 75px; height: 10px; background: #e5e7eb; border-radius: 4px; overflow: hidden; position: relative; }
.battery-fill { height: 100%; background: var(--color-green-main); transition: width .3s ease; }
.battery-fill.medium { background: #f59e0b; }
.battery-fill.low { background: #ef4444; }
.battery-text { font-size: .6rem; font-weight: 600; color: var(--color-text-primary-light); }
.no-battery { font-size: .7rem; color: var(--color-text-secondary-light); }
.empty-message { margin-top: .75rem; font-size: .8rem; color: var(--color-text-secondary-light); font-style: italic; }
@media (max-width:640px){ .battery-bar { width:55px; } .slots-tooltip { width:180px; } }
